<div class="wrapper">
    <div class="sa4d25">
        <div class="container-fluid">			
            <div class="row">
                <div class="col-lg-12">	
                    <h2 class="st_title"><i class="uil uil-comments"></i> Messages</h2>
                </div>					
            </div>				
            <div class="row">
                <div class="col-12">
                    <div class="all_msg_bg">
                        <div class="row no-gutters">
                            <div class="col-xl-4 col-lg-5 col-md-12">					
                                <div class="msg_search">
                                    <div class="ui search focus">
                                        <div class="ui left icon input swdh11 swdh15">
                                            <input class="prompt srch_explore" type="text" placeholder="Search Messages...">
                                            <i class="uil uil-search-alt icon icon8"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="simplebar-content-wrapper">
                                    <div class="group_messages">
                                        <span *ngFor="let u of tabDrdes; let i =index">
                                        <div class="chat__message__dt {{u.isSeen ? '': 'active'}}" >
                                            <div class="user-status "  (click)="openMsg(u.user_id,i)">											
                                                <div class="user-avatar" >
                                                    <img [src]="imagePath + u.user_id.photo?.path" alt="" style="height:50px">
                                                    <div class="msg__badge" *ngIf="u.nbrmsg>0">{{u.nbrmsg}}</div>
                                                </div>
                                                <p class="user-status-title"><span class="bold">{{u.user_id.firstname}}</span></p>
                                                <p class="user-status-text">{{u.msg}}</p>
                                                <p class="user-status-time floaty">{{u.createdOn | date}}</p>
                                            </div>
                                        </div>
                                    </span>
                                        <div class="chat__message__dt active" *ngFor="let u of tab">
                                            <div class="user-status"  (click)="openMsg(u)">											
                                                <div class="user-avatar" >
                                                    <img [src]="imagePath + u.photo?.path" alt="" style="height:50px">
                                                    <div class="msg__badge">2</div>
                                                </div>
                                                <p class="user-status-title"><span class="bold">{{u.firstname}}</span></p>
                                                <p class="user-status-text">Hi! Sir, How are you. I ask you one thing please explain it this video price.</p>
                                                <p class="user-status-time floaty">7 hours ago</p>
                                            </div>
                                        </div>
                                        
                                      
                                    </div>
                                </div>					
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-12">			
                                <div class="chatbox_right"*ngIf="selectedUser">
                                    <div class="chat_header">
                                        <div class="user-status">											
                                            <div class="user-avatar">
                                                <img [src]="imagePath+selectedUser?.photo?.path" alt="" style="height: 50px;">
                                            </div>
                                            <p class="user-status-title"><span class="bold">{{selectedUser.firstname}}</span></p>
                                            <p class="user-status-tag online" *ngIf="isOnline(selectedUser._id)">Online</p>	
                                            											
                                            <div class="user-status-time floaty eps_dots eps_dots5 more_dropdown">
                                                <a href="#"><i class="uil uil-ellipsis-h"></i></a>
                                                <div class="dropdown-content">
                                                    <span><i class="uil uil-trash-alt"></i>Delete</span>
                                                    <span><i class="uil uil-ban"></i>Block</span>
                                                    <span><i class="uil uil-windsock"></i>Report</span>															
                                                    <span><i class="uil uil-volume-mute"></i>Mute</span>
                                                 </div>																										
                                            </div>													
                                        </div>
                                    </div>
                                    <div class="messages-line simplebar-content-wrapper2 scrollstyle_4" >											
                                        <div class="mCustomScrollbar">											
                                            <div *ngFor="let desc of descU1U2"  class="main-message-box  
                                            {{decodedToken._id==desc.rec_id ||
                                                 decodedToken._id==desc.rec_id._id ?'st3' : 'ta-right'}}
                                            " >
                                                <div class="message-dt 
                                                {{ decodedToken._id==desc.rec_id || 
                                                    decodedToken._id==desc.rec_id._id?'st3' : 'ta-right'}}" 
                                                   
                                                 [style.float]="decodedToken._id==desc.rec_id._id?'' : 'right'">
                                                    <div class="message-inner-dt" style="float: none;">
                                                        <p>{{desc.msg}}</p>
                                                    </div><!--message-inner-dt end-->
                                                    <span>{{desc.createdOn| date}}</span>
                                                </div><!--message-dt end-->
                                            </div><!--main-message-box end-->
                                         
                                          
                                        </div>
                                    </div>
                                    <div class="message-send-area">
                                        <form>
                                            <div class="mf-field">
                                                <div class="ui search focus input__msg">
                                                    <div class="ui left icon input swdh19">
                                                        <input
                                                        [(ngModel)]="msg"
                                                        class="prompt srch_explore" type="text" id="chat-widget-message-text-2" name="chat_widget_message_text_2" placeholder="Write a message...">
                                                    </div>
                                                </div>
                                                <button (click)="sendmsg()"class="add_msg" type="submit"><i class="uil uil-message"></i></button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
   
</div>
